<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Calon Mantu Idaman - Mobile Fixed</title>
    <style>
        /* RESET & DASAR */
        body {
            margin: 0;
            padding: 0;
            background-color: #1a1a1a;
            font-family: 'Arial Rounded MT Bold', 'Verdana', sans-serif;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            height: 100dvh;
        }

        /* CONTAINER UTAMA */
        #game-container {
            position: relative;
            height: 100%;
            aspect-ratio: 9/16; /* Rasio HP Potrait */
            /* Menggunakan gambar board yang Anda upload */
            background-image: url('https://res.cloudinary.com/dsutaioqw/image/upload/v1770514507/board_gukevw.png');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            box-shadow: 0 0 50px rgba(0,0,0,0.8);
        }

        /* --- 1. AVATAR (Menggunakan Center Point) --- */
        .avatar-frame {
            position: absolute;
            top: 7.3%; /* Titik tengah vertikal lingkaran */
            width: 14%; /* Lebar avatar */
            aspect-ratio: 1/1; /* Agar tetap bulat */
            border-radius: 50%;
            transform: translate(-50%, -50%); /* Kunci posisi di tengah */
            border: 3px solid #fff;
            box-shadow: 0 2px 5px rgba(0,0,0,0.3);
            background-size: cover;
            background-color: #eee;
        }

        #p2-avatar {
            left: 11.5%; /* Titik tengah horizontal kiri */
            background-image: url('https://api.dicebear.com/7.x/avataaars/svg?seed=Grandma&backgroundColor=b6e3f4');
            opacity: 0.8;
        }

        #p1-avatar {
            left: 88.5%; /* Titik tengah horizontal kanan */
            background-image: url('https://api.dicebear.com/7.x/avataaars/svg?seed=Felix&backgroundColor=c0aede');
        }

        /* --- 2. STATUS TEKS (Hati & Uang) --- */
        .stat-text {
            position: absolute;
            top: 7.3%; /* Sejajar vertikal dengan avatar */
            transform: translate(-50%, -50%); /* Center alignment */
            color: #5d4037;
            font-weight: 800;
            font-size: 2.2vh; /* Ukuran font lebih proporsional */
            text-shadow: 0 1px 0 rgba(255,255,255,0.5);
            width: 15%; /* Lebar area teks */
            text-align: center;
            /* border: 1px solid red; Gunakan untuk debug posisi */
        }

        #ui-hati {
            left: 38%; /* Digeser ke kanan agar masuk kotak putih */
        }

        #ui-uang {
            left: 64%; /* Digeser ke kanan agar masuk kotak putih */
        }

        /* --- 3. BIDAK PEMAIN --- */
        .player-pion {
            position: absolute;
            width: 8%;
            aspect-ratio: 1/1;
            border-radius: 50%;
            border: 2px solid white;
            box-shadow: 0 4px 6px rgba(0,0,0,0.5);
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            z-index: 15;
            transform: translate(-50%, -50%); /* Center di koordinat */
        }

        #p1-pion {
            background-color: #3498db;
            /* Z-index lebih tinggi biar di atas */
        }

        #p2-pion {
            background-color: #e74c3c;
            transform: translate(-30%, -30%); /* Sedikit offset biar kelihatan kalau numpuk */
            scale: 0.8;
        }

        /* --- 4. TOMBOL TRANSPARAN --- */
        #btn-kocok {
            position: absolute;
            bottom: 4%;
            left: 50%;
            transform: translateX(-50%);
            width: 45%;
            height: 11%;
            background: rgba(255, 0, 0, 0); 
            border-radius: 40px;
            cursor: pointer;
            z-index: 20;
        }
        #btn-kocok:active { background: rgba(255, 255, 255, 0.1); }

        #btn-kartu {
            position: absolute;
            bottom: 5%;
            left: 5%;
            width: 20%;
            height: 10%;
            cursor: pointer;
        }

        #btn-info {
            position: absolute;
            bottom: 5%;
            right: 5%;
            width: 20%;
            height: 10%;
            cursor: pointer;
        }

        /* POPUP MESSAGE */
        #game-msg {
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 15px 25px;
            border-radius: 12px;
            border: 4px solid #f39c12;
            text-align: center;
            font-weight: bold;
            display: none;
            box-shadow: 0 10px 100px rgba(0,0,0,0.5);
            z-index: 99;
            min-width: 60%;
        }
    </style>
</head>
<body>

    <div id="game-container">
        <div id="p2-avatar" class="avatar-frame"></div>
        <div id="p1-avatar" class="avatar-frame"></div>
        
        <div id="ui-hati" class="stat-text">0</div>
        <div id="ui-uang" class="stat-text">20</div>

        <div id="p1-pion" class="player-pion"></div>
        <div id="p2-pion" class="player-pion"></div>

        <div id="btn-kartu" onclick="alert('Buka koleksi kartu')"></div>
        <div id="btn-kocok" onclick="mainkanGiliran()"></div>
        <div id="btn-info" onclick="alert('Info Game')"></div>

        <div id="game-msg">
            <div id="msg-title" style="color:#d35400; font-size:14px; margin-bottom:5px;">INFO</div>
            <div id="msg-body" style="font-size:18px; color:#333;">Pesan Game</div>
        </div>
    </div>

    <script>
        // --- KALIBRASI KOORDINAT PRESISI (Grid 2295x4080) ---
        // X: 11%, 30.5%, 50%, 69.5%, 89%
        // Y: 23.2%, 34.5%, 45.8%, 57.1%, 68.3%
        // Koordinat ini sudah dikalibrasi agar sisi kanan lebih turun
        
        const tileCoords = [
            { id: 1,  x: 11.0, y: 68.3 }, // Start (Kiri Bawah)
            { id: 2,  x: 30.5, y: 68.3 },
            { id: 3,  x: 50.0, y: 68.3 },
            { id: 4,  x: 69.5, y: 68.3 },
            { id: 5,  x: 89.0, y: 68.3 }, // Pojok Kanan Bawah
            
            { id: 6,  x: 89.0, y: 57.1 }, // Naik 1 (Posisi diperbaiki lebih turun)
            { id: 7,  x: 89.0, y: 45.8 }, // Naik 2
            { id: 8,  x: 89.0, y: 34.5 }, // Naik 3
            { id: 9,  x: 89.0, y: 23.2 }, // Pojok Kanan Atas
            
            { id: 10, x: 69.5, y: 23.2 }, // Ke Kiri
            { id: 11, x: 50.0, y: 23.2 },
            { id: 12, x: 30.5, y: 23.2 },
            { id: 13, x: 11.0, y: 23.2 }, // Pojok Kiri Atas
            
            { id: 14, x: 11.0, y: 34.5 }, // Turun
            { id: 15, x: 11.0, y: 45.8 },
            { id: 16, x: 11.0, y: 57.1 }  // Nekat Melamar
        ];

        let player = { pos: 0, uang: 20, hati: 0 };

        function updatePosition() {
            const coord = tileCoords[player.pos];
            const el = document.getElementById('p1-pion');
            el.style.left = coord.x + "%";
            el.style.top = coord.y + "%";

            // Update UI
            document.getElementById('ui-uang').innerText = player.uang;
            document.getElementById('ui-hati').innerText = player.hati;
        }

        function showMsg(title, body) {
            const box = document.getElementById('game-msg');
            document.getElementById('msg-title').innerText = title;
            document.getElementById('msg-body').innerText = body;
            box.style.display = 'block';
            setTimeout(() => { box.style.display = 'none'; }, 2000);
        }

        function mainkanGiliran() {
            let dadu = Math.floor(Math.random() * 6) + 1;
            showMsg("DADU", "Angka " + dadu);

            let steps = 0;
            const interval = setInterval(() => {
                player.pos++;
                if(player.pos >= 16) {
                    player.pos = 0;
                    player.uang += 20; // Gaji
                    showMsg("GAJIAN", "+20 Uang");
                }
                updatePosition();
                steps++;
                if(steps >= dadu) clearInterval(interval);
            }, 300);
        }

        // Init
        // Set musuh di posisi start juga
        const startCoord = tileCoords[0];
        const p2 = document.getElementById('p2-pion');
        p2.style.left = startCoord.x + "%";
        p2.style.top = startCoord.y + "%";
        
        updatePosition();

    </script>
</body>
</html>
